head	1.1;
branch	1.1.1;
access;
symbols
	cvs-200507211800:1.1.1.1
	tg-mergetmp-3:1.1.1.1
	cvs-200504170300:1.1.1.1
	start:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.1
date	2005.02.05.17.30.36;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.05.17.30.36;	author tg;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@<?xml version="1.0" encoding="iso-2022-jp"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
  <head>

    <title>Apache module mod_access</title>

  </head>
  <!-- English revision: 1.33 -->
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->
  <body bgcolor="#ffffff" text="#000000" link="#0000ff"
  vlink="#000080" alink="#ff0000">
        <div align="CENTER">
      <img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]" /> 

      <h3>Apache HTTP Server Version 1.3</h3>
    </div>


    <h1 align="center">mod_access モジュール</h1>

    <p>このモジュールはクライアントのホスト名、IP
    アドレス、その他のクライアントのリクエストの特徴に基づいた
    アクセス誓羌’修鯆鷆，靴泙后鹿霈

腫昭蓿繙就迴糒跂蜒蔗迪ｓ鵞
鱚貊∵繻陟昭齡鳫鈑ぢステータス:</strong></a> Base<br />
     <a href="module-dict.html#sourcefile"
    rel="help"><strong>ソースファイル:</strong></a> mod_access.c<br />
     <a href="module-dict.html#moduleidentifier"
     rel="help"><strong>モジュール識別子:</strong></a>
     access_module</p>

    <h2>概要</h2>

    <p>mod_access により提供されるディレクティブはサーバの特定の部分への
    アクセスを誓罎垢襪燭瓩竢粤昭蓿繙就竢鱚譯粡鱚笏闥
商踉残蜥繝鴒鹿畩釈鱚羹≪闥絎蔗迪ｆ蛹纉⊂鍋跂鵙苳纂
昭閼緇若閼緇釈鱚羹≪闥絎蔗迪ｌ閭癆蜿遐商踉嗣閭癆蜿遉苳纂
昭閼緇ぢと <code><a href="core.html#accessfilename">.htaccess</a
    ></code> ファイルで使用されます。クライアントのホスト名、IP
    アドレスや <a href="../env.html">環境変数</a
    >として取得世気譴拭△修梁召離螢┘好箸瞭団Г亡陲鼎い
アクセス誓罎鮃圓覆Δ海箸任泙后若閼緇糟跫閼緇ぢと
    <code>Deny</code> ディレクティブはどのようなクライアントにアクセスを
    許可する、しないかを指定するために使用されます。一方、
    <code>Order</code> ディレクティブはデフォルトのアクセス状態と、
    <code>Allow</code> ディレクティブと <code>Deny</code>
    ディレクティブとのお互いへの影響の仕方を誓瀋蠅靴泙后
鹿霈

腫ぢホストによるアクセス誓造肇僖好錙璽匹砲茲詛Ь擇鯑瓜
行なうことが可能です。その場合、その二つの誓造隆愀犬鮖慊蠅垢襪燭瓩
釈鱚羹≪闥絎蔗迪ｓ癆蜩胱⊂噤黽ディレクティブを使用します。</p>

    <p>一般的には、アクセス誓促妊譽謄屬呂垢戮討離▲札好瓮愁奪
┝竢粤焦都鹿竢粤宵竢粤笑孕鹿竢粤宵竢粤笑腕埃閼緇ぢなど)
    に適用されます。そして、ほとんどの場合これが望ましい動作です。
    しかし、<a href="core.html#limit">&lt;Limit&gt;</a>
    セクションの中にディレクティブを書くことで、
    一部のメソッドにのみ誓造鬚韻襪海箸發任泙后鹿霈

取仮ディレクティブ</h2>

    <ul>
      <li><a href="#allow">Allow</a></li>

      <li><a href="#deny">Deny</a></li>

      <li><a href="#order">Order</a></li>
    </ul>

    <p><a href="core.html#satisfy">Satisfy</a> と
    <a href="core.html#require">Require</a> も参照してくだ世気ぁ鹿霈
取

取仮釈篏≡跛阯釶辣就瘡跫樵跛阯鹿畩蜆就瘡跫鳫辣鉚釶辣就瘡跫鳫辣鉚⊂ディレクティブ</a></h2>

    <p>
     <a  href="directive-dict.html#syntax"
    rel="Help"><strong>構文:</strong></a> Allow from 
    all|<em>host</em>|env=<em>env-variablename</em> 
    [<em>host</em>|env=<em>env-variablename</em>] ...<br />
     <a href="directive-dict.html#context"
    rel="Help"><strong>コンテキスト:</strong></a> ディレクトリ、
    .htaccess<br />
     <a href="directive-dict.html#override"
    rel="Help"><strong>上書き:</strong></a> Limit<br />
     <a href="directive-dict.html#status"
    rel="Help"><strong>ステータス:</strong></a> Base<br />
     <a href="directive-dict.html#module"
    rel="Help"><strong>モジュール:</strong></a> mod_access</p>

    <p><code>Allow</code> ディレクティブはどのホストが
    サーバのある領域をアクセスできるかに影響を与えます。
    アクセスはホスト名、IP アドレス、IP アドレスの範囲や、
    環境変数として取得世気譴拭△修梁召離薀ぅ▲鵐箸離螢┘好箸
特徴によって誓罎垢襪海箸任泙后鹿霈
腫ぢこのディレクティブの最初の引数は常に <code>from</code> です。
    それに続く引数は三つの違った形式があります。<code>Allow from
    all</code> が指定されていれば、すべてのホストにアクセスを許可し、
    アクセス誓造浪爾農説明世気譴討い襪茲Δ法若閼緇偵銷鹿竢粤ディレクティブと <code>Order</code>
    ディレクティブの誓瀋蠅之茲泙蠅泙后
特定のホストやホスト群にのみサーバへのアクセスを許可するためには、
    以下のどれかの形式で <em>host</em> を指定することができます:</p>

    <dl>
      <dt>ドメイン名 (の一部)</dt>

      <dd>例: <code>Allow from apache.org</code><br />
      この文字列に合うか、これで終わる名前のホストのアクセスが許可されます。
      各部分が完全に合うものだ世韻謀僂気譴泙垢里如⊂紊領磴
若閼緇肬鎬瘰痺蒹鱧鹿竢粤にはマッチしますが、
      <code>fooapache.org</code> にはマッチしません。
      この誓瀋蠅鬚垢襪函▲機璽个
釈鱚羹≪闥絎蔗迪ｈ闢瘢繻闖謨頌⊂被齡釶辣弥闍鷦の誓瀋蠅亡悗錣蕕此▲薀ぅ▲鵐箸アドレスに対して
      DNS の二重の逆引きを行ないます。これは IP アドレスで DNS
      の逆引きを行なってそれに関連付けられたホスト名を見つけ、
      それからホスト名で誓軌鮃圓覆辰謄螢献淵襪アドレスと一致するか確認します。アクセスは誓軌筏娑北圭發気
ホスト名が一致した場合に限り許可されます。</dd>

      <dt>完全な IP アドレス</dt>

      <dd>例: <code>Allow from 10.1.2.3</code><br />
      アクセスを許可する IP アドレスです。</dd>

      <dt>IP アドレスの一部</dt>

      <dd>例: <code>Allow from 10.1</code><br />
      サブネットの誓騨僂痢賓
アドレスの最初の一つから三つまでのバイトです。</dd>

      <dt>ネットワーク/ネットマスク の対</dt>

      <dd>例: <code>Allow from 10.1.0.0/255.255.0.0</code><br />
      ネットワーク a.b.c.d とネットマスク w.x.y.z です。
      より細粒度のサブネット誓騨僂任后鞜竏窺以降)</dd>

      <dt>ネットワーク/nnn CIDR 指定</dt>

      <dd>例: <code>Allow from 10.1.0.0/16</code><br />
      ネットマスクが nnn の上位ビットが 1
      となっているものからなること以外は前のものと同じです。
      (Apache 1.3 以降)</dd>
    </dl>

    <p>注: 最後の三つの例はまったく同じホストに合います。</p>


    <p><code>Allow</code> ディレクティブの引数の三つ目の形式は、
    <a href="../env.html">環境変数</a>
    の存在によりアクセスの誓罎鮃圓覆┐襪茲Δ砲垢襪發里任后
若閼緇糟跫胙闕鉚充閼緇弱躱鱸痰跂釶辣鹿纃が指定されていると、環境変数 <em>variablename</em>
    が存在した場合にリクエストはアクセスを許可されます。サーバは
    <a href="mod_setenvif.html">mod_setenvif</a>
    のディレクティブにより、クライアントのリクエスト
    の特徴に基づいて柔斉陲亡超竸瑤鮴設定する機能を提供します。
    ですから、このディレクティブはクライアントの
    <code>User-Agent</code> (ブラウザの種類)、<code>Referer</code>
    や他の HTTP リクエストのヘッダ瀬侫璽襯匹覆匹亡陲鼎い
アクセス許可をするために使うことができます。
    </p>

    <p>例:</p>

    <blockquote>
<pre>
SetEnvIf User-Agent ^KnockKnock/2.0 let_me_in
&lt;Directory /docroot&gt;
    Order Deny,Allow
    Deny from all
    Allow from env=let_me_in
&lt;/Directory&gt;
</pre>
    </blockquote>

    <p>この場合、user-agent の文字列が <tt>KnockKnock/2.0</tt>
    で始まるブラウザのみがアクセスを許可され、
    他のものはアクセスを拒否されます。</p>

    <p><a href="#deny">Deny</a>, <a href="#order">Order</a>,
    <a href="mod_setenvif.html#setenvif">SetEnvIf</a>
    ディレクティブも参照してくだ世気ぁ鹿霈
取

取仮釈篏≫緕瘢綵≫緕渉緕釈篏≫緕鳫辣鉚釶辣就粤銷胙闕緕ぢディレクティブ</a></h2>

    <p>
     <a href="directive-dict.html#syntax"
    rel="help"><strong>構文:</strong></a> Deny from 
    all|<em>host</em>|env=<em>variablename</em> 
    [<em>host</em>|env=<em>variablename</em>] ...<br />
     <a href="directive-dict.html#context"
    rel="help"><strong>コンテキスト:</strong></a> ディレクトリ、
    .htaccess<br />
     <a href="directive-dict.html#override"
    rel="help"><strong>上書き:</strong></a> Limit<br />
     <a href="directive-dict.html#status"
    rel="help"><strong>ステータス:</strong></a> Base<br />
     <a href="directive-dict.html#module"
    rel="help"><strong>モジュール:</strong></a> mod_access</p>

    <p>このディレクティブはホスト名、IP
    アドレス、環境変数に基づいてサーバへのアクセスを誓造靴泙后
若閼緇偵銷鹿竢粤ディレクティブの引数は <a href="#allow">Allow</a>
    ディレクティブとまったく同じです。</p>

    <p><a href="#allow">Allow</a>, <a href="#order">Order</a>,
    <a href="mod_setenvif.html#setenvif">SetEnvIf</a>
    も参照してくだ世気ぁ鹿霈
取

取仮釈篏鰾纈釶辣就闥粤鬆章鰾纈ぢディレクティブ</a></h2>

    <p>
     <a href="directive-dict.html#syntax"
    rel="help"><strong>構文:</strong></a> Order
    <em>ordering</em><br />
     <a href="directive-dict.html#default"
    rel="help"><strong>デフォルト:</strong></a> <code>Order
    Deny,Allow</code><br />
     <a href="directive-dict.html#context"
    rel="help"><strong>コンテキスト:</strong></a> ディレクトリ、
    .htaccess<br />
     <a href="directive-dict.html#override"
    rel="help"><strong>上書き:</strong></a> Limit<br />
     <a href="directive-dict.html#status"
    rel="help"><strong>ステータス:</strong></a> Base<br />
     <a href="directive-dict.html#module"
    rel="help"><strong>モジュール:</strong></a> mod_access</p>

    <p><code>Order</code> ディレクティブはデフォルトのアクセスの状態と
    <a href="#allow">Allow</a> ディレクティブと <a href="#deny">Deny</a>
    ディレクティブが評価される順番を誓罎靴泙后
弱躱粤鱸鈑鹿纃は以下のどれかです。</p>

    <dl>
      <dt>Deny,Allow</dt>

      <dd><code>Deny</code> ディレクティブが <code>Allow</code>
      ディレクティブの前に評価されます。
      アクセスはデフォルトで許可されます。<code>Deny</code>
      ディレクティブに合わないか、<code>Allow</code>
      ディレクティブに合うクライアントはアクセスを許可されます。</dd>

      <dt>Allow,Deny</dt>

      <dd><code>Allow</code> ディレクティブが <code>Deny</code>
      ディレクティブの前に評価されます。
      アクセスはデフォルトで拒否されます。<code>Allow</code>
      ディレクティブに合わないか、<code>Deny</code>
      ディレクティブに合うクライアントはアクセスを拒否されます。
      </dd>

      <dt>Mutual-failure</dt>

      <dd><code>Allow</code> のリストに現れて、<code>Deny</code>
      のリストに現れないホストのみがアクセスを許可されます。
      この順番付けは <code>Order Allow,Deny</code> と同じ効果を持ち、
      その誓瀋蠅諒イ泙靴い燭瓩鉾鷽箴箸覆辰討い泙后鹿粐鹿粲
腫ぢキーワードはコンマで分離することだ世韻椎修任后
間に空白があってはいけません。どの場合でも、<code>Allow</code> と
    <code>Deny</code> 文は全て評価されるということに注意してくだ世気ぁ
鹿霈

腫ぢ以下の例では、apache.org
    ドメインのすべてのホストはアクセスを許可されます。
    他のすべてのホストはアクセスを拒否されます。</p>

    <blockquote>
      <code>Order Deny,Allow<br />
       Deny from all<br />
       Allow from apache.org<br />
      </code>
    </blockquote>

    <p>次の例では、foo.apache.org サブドメインにあるホスト以外の、
    apache.org ドメインのすべてのホストがアクセスを許可されます。
    apache.org
    ドメインでないホストは、デフォルトの状態がアクセス拒否のため、
    サーバへのアクセスを拒否されます。</p>

    <blockquote>
      <code>Order Allow,Deny<br />
       Allow from apache.org<br />
       Deny from foo.apache.org<br />
      </code>
    </blockquote>

    <p>一方、上の例の <code>Order</code> が <code>Deny,Allow</code>
    に変わっていれば、すべのホストにアクセスが許可されます。
    これは、誓瀋螢侫．ぅ訝罎亮尊櫃僚臠屬亡悗錣蕕此
若閼緇糟跫胙闕鞜竏絎闥膽閼緇ぢが最後に評価されて、
    <code>Deny from foo.apache.org</code> を上書きするからです。
    <code>apache.org</code>
    ドメインにないホストも、デフォルトの状態が <em>allow</em>
    に変化するために、アクセスを許可されます。
    </p>

    <p><code>Order</code>
    ディレクティブはデフォルトのアクセスの状態に影響を与えるので、
    <code>Allow</code> ディレクティブと <code>Deny</code>
    ディレクティブが無くても、サーバのアクセスに影響を与えることができます。
    たとえば、</p>

    <blockquote>
      <code>&lt;Directory /www&gt;<br />
       &nbsp;&nbsp;Order Allow,Deny<br />
       &lt;/Directory&gt;</code>
    </blockquote>

    <p>はデフォルトのアクセス状態が <em>deny</em> になるため、
    <code>/www</code> ディレクトリへのすべてのアクセスを拒否します。
    </p>

    <p><code>Order</code>
    ディレクティブはサーバの誓瀋蟒萢粒特奮任誓け
    アクセスディレクティブの処理の順番を変更します。これは、たとえば、
    <code>Order</code> ディレクティブの誓瀋蠅亡悗錣蕕此
弥竅闔ぢセクションの <code>Allow</code> ディレクティブや
    <code>Deny</code> ディレクティブは、&lt;Directory&gt; セクションや
    <code>.htaccess</code> ファイルの <code>Allow</code>
    ディレクティブや <code>Deny</code>
    ディレクティブよりも常に後に評価されるということを意味します。
    誓瀋螢札轡腑鵑離沺璽犬両楮戮砲弔い討蓮
釈鱚羹〓黼笏蜿銖譬渉蜥繝鴒閭癆蜿遯蛹纉
セクションの動作方法</a> を参照してくだ世気ぁ鹿霈

腫昭蓿繙就ｄ緕渉緕と <a href="#allow">Allow</a>
    も参照してくだ世気ぁ鹿霈
取

取瘡蜃扈杜堙劬樵鞜竏挽墅纈帙鴦蜿窺骸馨
釈鱚羹〓昭蜊齟秉〓蜊瘍纉鈔纔蜀瘡鈔纔鹿畩
釈鱚羹〓⊂守辯鱆就轣艱鶩蓖辣蜀瘡闕紜昭
鹿硼糯鹿蔗迪

窺窺窺跫隻逅闥緕帯肬籬闔莱鯱帯
誓
