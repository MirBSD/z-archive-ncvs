head	2.1;
access;
symbols
	cvs-200501160850:1.1.1.1
	start:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


2.1
date	2005.01.03.16.41.26;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.12.21.35.10;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.12.12.21.35.10;	author tg;	state Exp;
branches;
next	;


desc
@@


2.1
log
@work over most of the changes MirOS has done, and add
the new or copied/moved files
@
text
@<?xml version="1.0" encoding="iso-2022-jp"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
  <head>

    <title>Server-Wide Configuration</title>

  </head>
  <!-- English revision: 1.10 -->
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->
  <body bgcolor="#ffffff" text="#000000" link="#0000ff"
  vlink="#000080" alink="#ff0000">
        <div align="CENTER">
      <img src="images/sub.gif" alt="[APACHE DOCUMENTATION]" />

      <h3>Apache HTTP Server</h3>
    </div>



    <h1 align="center">サーバ全体の誓瀋鹿莟
腫ぢこのドキュメントでは<a href="mod/core.html">コア</a>サーバの
    ディレクティブの中で、基本動作を誓瀋蠅垢襪燭瓩里發里鮴説明世靴泙后
鹿霈

受貍
殊蘊釈鱚羹■蜆緕肅竅闔⊂サーバ ID</a></li>

      <li><a href="#locations">ファイルの位置</a></li>

      <li><a href="#process">プロセス誓言成</a></li>

      <li><a href="#network">ネットワーク誓瀋鹿畩鹿跚
殊蘊釈鱚羹■鱚齒竇⊂リソースの誓鹿畩鹿跚鹿取

取仮釈篏∫粤銓蜀蜒癆蜿遐瘢綵∫粤銓蜀蜒癆蜿遐ぢサーバ ID</a></h2>


    <table border="1">
      <tr>
        <td valign="top"><strong>関連ディレクティブ</strong><br />
          <br />
          <a href="mod/core.html#servername">ServerName</a><br />
          <a
         href="mod/core.html#serveradmin">ServerAdmin</a><br />
          <a
         href="mod/core.html#serversignature">ServerSignature</a><br />
          <a
         href="mod/core.html#servertokens">ServerTokens</a><br />
          <a href="mod/core.html#usecanonicalname">UseCanonicalName</a><br />
        </td>
      </tr>
    </table>

    <p><code>ServerAdmin</code> ディレクティブと <code>ServerTokens</code>
    ディレクティブは、エラーメッセージなどのサーバが作るドキュメントに、
    どのようなサーバの情報を表示するかを誓罎靴泙后
若閼緇嚆鴟纈夬諷銖鹿竢粤ディレクティブは、Server HTTP
    レスポンスヘッダ瀬侫璽襯匹涼佑鮴設定します。</p>

    <p><code>ServerName</code> ディレクティブと
    <code>UseCanonicalName</code> ディレクティブは、
    サーバが自分自身を参照する URL を作るときに使われます。たとえば、
    クライアントがディレクトリを要求して、そのディレクトリ名の最後に
    スラッシュが付いていないような場合には、ドキュメントの相対的な
    参照を誓気靴魴茲任襪茲Δ砲垢襪燭瓩法草痺蒹ぢは最後のスラッシュ
    を含んだ栖袷瓦淵僖垢縫薀ぅ▲鵐箸鬟螢誓イレクトさせる必要があります。
    </p>
    <hr />

    <h2><a id="locations" name="locations">ファイルの位置</a></h2>

    <table border="1">
      <tr>
        <td valign="top"><strong>関連ディレクティブ</strong><br />
        <br />
        <a
       href="mod/core.html#coredumpdirectory">CoreDumpDirectory</a><br />
        <a
       href="mod/core.html#documentroot">DocumentRoot</a><br />
        <a href="mod/core.html#errorlog">ErrorLog</a><br />
        <a href="mod/core.html#lockfile">Lockfile</a><br />
        <a href="mod/core.html#pidfile">PidFile</a><br />
        <a
       href="mod/core.html#scoreboardfile">ScoreBoardFile</a><br />
      <a href="mod/core.html#serverroot">ServerRoot</a><br />
      </td>
    </tr>
  </table>

    <p>これらのディレクティブは Apache が適誓擇米虻遒鬚垢襪燭瓩防廚
各種ファイルの位置を誓罎靴泙后僖垢好薀奪轡
で始まっていないときは、ファイルは <code>ServerRoot</code>
    からの相対パスとして探されます。
    root 以外のユーザが書き込み可能なパスにファイルを置く場合は注意が必要です。
    詳細は<a href="misc/security_tips.html">「セキュリティ情報」</a>を
    参照してくだ世気ぁ鹿霈
取

取仮釈篏鳫竇齠釶辣就頏閭纉鵞ぢプロセス誓言成</a></h2>

    <table border="1">
      <tr>
        <td valign="top"><strong>関連ディレクティブ</strong><br />
        <br />
        <a
       href="mod/core.html#bs2000account">BS2000Account</a><br />
        <a href="mod/core.html#group">Group</a><br />
        <a href="mod/core.html#maxclients">MaxClients</a><br />
        <a
       href="mod/core.html#maxrequestsperchild">MaxRequestsPerChild</a><br />
        <a
       href="mod/core.html#maxspareservers">MaxSpareServers</a><br />
        <a
       href="mod/core.html#minspareservers">MinSpareServers</a><br />
        <a href="mod/core.html#servertype">ServerType</a><br />
        <a
       href="mod/core.html#startservers">StartServers</a><br />
        <a
       href="mod/core.html#threadsperchild">ThreadsPerChild</a><br />
        <a href="mod/core.html#user">User</a><br />
        </td>
      </tr>
    </table>

    <p><code>ServerType</code> に推奨されている値である
    <code>Standalone</code> が誓瀋蠅気譴討い訃豺腓蓮寰蝌ぢ上での Apache
    は pre-forking サーバです。そこでは一つの誓耆僖廛蹈札垢劵廛蹈札垢
起動する誓嫻い鮖舛泙后修靴董∋劵廛蹈札垢魯廛蹈札垢生存している間
    listen し、誓楝海気譴燭蕕修離灰優轡腑鵑紡个垢觸萢鮃圓覆い泙后
草痺蒹ぢはリクエストが来たときにすぐに応答できるように、常に複数の
    <em>スペア</em>サーバプロセス、またはアイドルサーバプロセスを維持
    しようとします。こうすることで、リクエストが扱われる前に新しい子プロセスが
    fork されるのをクライアントが待つ必要がなくなります。</p>

    <p><code>StartServers</code>, <code>MinSpareServers</code>,
    <code>MaxSpareServers</code>, <code>MaxServers</code> は、
    親プロセスがリクエストを扱うことになる子プロセスを作誓垢詈，鮴制御します。
    通常、Apache は非常に自誓任垢里如△曚箸鵑匹離汽ぅ箸任
デフォルト値から変更する必要はありません。ただ澄瓜偽ぢを超える
    リクエストを扱うサイトは <code>MaxClients</code> を増やす必要があるでしょう。
    一方、メモリの少ないサイトでは、サーバがスラッシング (メモリをディスクに
    スワップしたり、メモリに戻したりするのを繰り返す) を防ぐために
    <code>MaxClients</code> を減らす必要があるでしょう。
    プロセス作誓鬟船紂璽鵑垢襪燭瓩両椶靴ぞ霾鵑
釈鱚羹蜩祚鞳鱠蜴膊蔗迪⊂誓修両霾鹿畩
ドキュメントを参照してくだ世気ぁ
鹿霈

腫蒋鉗では通常、親プロセスは 80 番ポートをバインドするために
    root で起動されますが、子プロセスは Apache からより特権の少ない
    ユーザとして起動されます。<code>User</code> ディレクティブと
    <code>Group</code>ディレクティブは、Apache の子プロセスに誓瀋蠅気譴
特権を誓瀋蠅垢襪燭瓩忙藩僂気譴泙后劵廛蹈札垢歪鷆，垢襪垢戮討
コンテンツを読めなければいけませんが、
    それ以上の特権は少なければ少ない方が望ましいです。
    また、<a href="suexec.html">suexec</a> が使用されていないときは、
    CGI スクリプトが継承する特権にもこれらのディレクティブの
    誓瀋蠅僂気譴泙后鹿霈

腫昭竢粤祥癢吶髟纉倥鮹蓍趙鹿竢粤は、サーバが古いプロセスを
    kill して新しいプロセスを起動することで、
    プロセスを再利用する頻度を誓瀋蠅靴泙后鹿霈

腫衝蜴粹ぢでは、Apache は誓罐廛蹈札弘譴弔隼劵廛蹈札弘譴弔妊好拭璽
します。子プロセスはリクエストに応えるために複数のスレッドを作誓靴泙后
スレッドの数は <code>ThreadsPerChild</code> ディレクティブで誓罎靴泙后
鹿霈
取

取仮釈篏續鳬釶辣就鈬闥襤ぢネットワーク誓瀋鹿畩鹿莢

儒痰跂闥粤鮟⊂
儒鮠
儒跚芬就陟昭齡鳫鈑ぢ関連ディレクティブ</strong><br />
        <br />
        <a href="mod/core.html#bindaddress">BindAddress</a><br />
        <a href="mod/core.html#keepalive">KeepAlive</a><br />
        <a
       href="mod/core.html#keepalivetimeout">KeepAliveTimeout</a><br />
        <a href="mod/core.html#listen">Listen</a><br />
        <a
       href="mod/core.html#listenbacklog">ListenBackLog</a><br />
        <a
       href="mod/core.html#acceptfilter">AcceptFilter</a><br />
        <a href="mod/core.html#acceptmutex">AcceptMutex</a><br />
        <a
       href="mod/core.html#maxkeepaliverequests">MaxKeepAliveRequests</a><br />
        <a href="mod/core.html#port">Port</a><br />
        <a
       href="mod/core.html#sendbuffersize">SendBufferSize</a><br />
        <a href="mod/core.html#timeout">TimeOut</a><br />
        </td>
      </tr>
    </table>


    <p>Apache は起動すると、ローカルマシンの何らかのポート番号と
    アドレスにコネクトし、リクエストを待ちます。デフォルトでは、
    マシンに割り当てられているすべてのアドレスでサーバ誓瀋蠅
若閼緇倆鶯鹿竢粤ディレクティブで指定されているポート番号を listen
    します。二つ以上のポートを listen したり、選択されたアドレスのみを
    listen したり、その組み合わせを listen したりするようにもできます。
    違う IP アドレス、ホスト名、ポート番号によって Apache の応答を
    決定する<a href="vhosts/">バーチャルホスト</a>機能と組み合わせて
    使われることがよくあります。
    </p>

    <p>Apache が listen するアドレスとポート番号を指定、
    もしくは誓造垢襯妊譽謄屬脇鵑弔△蠅泙后
若閼緇醍鈔槍糅纉鷦閼緇ぢディレクティブはサーバが一つの IP
    アドレスだ世韻蜩させるために使用されます。
    <code>Listen</code> ディレクティブは Apache が listen する IP アドレスと
    ポート番号の組、またはどちらか一方を複数指定するために使用されます。</p>

    <p><code>ListenBackLog</code> ディレクティブ、<code>SendBufferSize</code>
    ディレクティブ、<code>TimeOut</code> ディレクティブは、Apache と
    ネットワークとの関係を調誓阿靴泙后若閼緇巣竇頸鍋踉纈鹿竢粤は BSD 特有のフィルタの最適化を誓罎靴泙后
釈鱚羹蜩祚鞳鱠黻幹譬ぢ誓修亡悗垢襯劵鵐鹿畩の BSD の誓瓩
見てくだ世気ぁ若閼緇巣竇頸藍閼緇ぢはどのように accept 時の
    排他誓罎鮃圓覆Δ鮴制御します。これが一体何で、なぜ必要であるかは、
    <a href="misc/perf-tuning.html">一般的な誓修亡悗垢襯劵鵐鹿畩
を見てくだ世気ぁ鹿霈

腫昭竢粤硝繞霑跚鹿竢粤ディレクティブ、<code>KeepAliveTimeout</code>
    ディレクティブ、<code>MaxKeepAliveRequests</code> ディレクティブは、
    Apache が persistent connection をどのように扱うかを誓罎靴泙后鹿霈
取

取仮釈篏Å纉阨鱆紜瘢綵Å纉阨鱆紜ぢリソースの誓鹿畩鹿莢

儒痰跂闥粤鮟⊂
儒鮠
儒跚芬就陟昭齡鳫鈑ぢ関連ディレクティブ</strong><br />
        <br />
        <a
       href="mod/core.html#limitrequestbody">LimitRequestBody</a><br />
        <a
       href="mod/core.html#limitrequestfields">LimitRequestFields</a><br />
        <a
       href="mod/core.html#limitrequestfieldsize">LimitRequestFieldsize</a><br />
        <a
       href="mod/core.html#limitrequestline">LimitRequestLine</a><br />
        <a href="mod/core.html#rlimitcpu">RLimitCPU</a><br />
        <a href="mod/core.html#rlimittime">RLimitTime</a><br />
        <a href="mod/core.html#rlimitmem">RLimitMEM</a><br />
        <a href="mod/core.html#rlimitnproc">RLimitNPROC</a><br />
        <a
       href="mod/core.html#threadstacksize">ThreadStackSize</a><br />
        </td>
      </tr>
    </table>

    <p><code>LimitRequest</code>* ディレクティブは Apache が
    クライアントからのリクエスト読み込みで使うリソースを誓造垢襪燭瓩
使われます。これらの値を誓造垢襪海箸如△い弔離機璽咼控馮盜況發
影響を和らげることができます。</p>

    <p><code>RLimit</code>* ディレクティブは、Apache の子プロセスから
    fork されたプロセスが使用するリソースを誓造垢襪燭瓩
使われます。特に、これは CGI スクリプトと SSI exec コマンドで
    使われるリソースを誓罎靴泙后鹿霈

腫昭竢粤菖蓿縺簷站嚔鹿竢粤は Netware でのみ、
    スタックの大きさを誓罎垢襪燭瓩忙箸錣譴泙后鹿霈
取

取瘡蜃扈杜堙劬樵鞜竏挽墅纈鮗馨
釈鱚羹〓昭蜊齟秉∫轣艱鶩蜴粤芍罌踉就侮粤昭
鹿硼糯鹿蔗迪

窺跫隻鉗瘡纐蜩蜿
絶欝
甕守辯鱆就蜊瘍纉蜀瘡双礎氾話嬪杜堊塢藁蘗
箍騎


窺窺窺跫隻逅闥矚黼鞳鄲喞辮闢蜚闥閹蜥腕笆鷓氾祖

誓
