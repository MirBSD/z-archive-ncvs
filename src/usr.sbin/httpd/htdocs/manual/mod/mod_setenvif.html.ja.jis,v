head	2.1;
access;
symbols
	cvs-200501160850:1.1.1.1
	start:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


2.1
date	2005.01.03.16.41.37;	author tg;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.12.21.35.14;	author tg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.12.12.21.35.14;	author tg;	state Exp;
branches;
next	;


desc
@@


2.1
log
@work over most of the changes MirOS has done, and add
the new or copied/moved files
@
text
@<?xml version="1.0" encoding="iso-2022-jp"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
  <head>

    <title>Apache module mod_setenvif</title>

  </head>
  <!-- English revision: 1.20 -->
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->
  <body bgcolor="#ffffff" text="#000000" link="#0000ff"
  vlink="#000080" alink="#ff0000">
        <div align="CENTER">
      <img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]" />

      <h3>Apache HTTP Server Version 1.3</h3>
    </div>


    <h1 align="center">mod_setenvif モジュール</h1>

    <p>このモジュールは、
    リクエストの属誓亡陲鼎い憧超竸瑤鮴設定する機能を提供します。</p>

    <p><a href="module-dict.html#status"
    rel="help"><strong>ステータス:</strong></a> Base<br />
     <a href="module-dict.html#sourcefile"
    rel="help"><strong>ソースファイル:</strong></a>
    mod_setenvif.c<br />
     <a href="module-dict.html#moduleidentifier"
    rel="help"><strong>モジュール識別子:</strong></a>
    setenvif_module<br />
     <a href="module-dict.html#Compatibility"
    rel="help"><strong>互換誓瑳闔臂鹿畩
草痺蒹ぢ以降で使用可能。</p>

    <h2>概要</h2>

    <p><samp>mod_setenvif</samp>
    モジュールは、リクエストのある側面が指定された<a
    href="../misc/faq.html#regex">誓亀集鹿ぢに合うかどうかによって環境変数を誓瀋蠅垢覽’修鯆鷆，靴泙后
これらの環境変数を使用して、サーバの他の部分がどのような動作をするかを
    決定することができます。</p>

    <p>このモジュールが提供するディレクティブは、
    誓瀋螢侫．ぅ襪妨修譴觸臠屬謀僂気譴泙后
それを使って、次の例のようにより複雑な誓瀋蠅鬚垢襪海箸任泙后
これは、ブラウザが mozilla ではあるけれど、MSIE ではないときに
    <code>netscape</code> を誓瀋蠅靴泙后鹿霈
錫跫站髟阡緇
腫鱚択阯黼鰺癆竏酪跛鈬竅鞳
択阯黼鰺癆竏喇℃續黹瘰
鹿頏緇
鹿碎閭鞫
腫ぢ詳細は、<a href="../env.html">Apache
    の環境変数</a>を参照してくだ世気ぁ鹿霈

取仮ディレクティブ</h2>

    <ul>
      <li><a href="#browsermatch">BrowserMatch</a></li>

      <li><a href="#browsermatchnocase">BrowserMatchNoCase</a></li>

      <li><a href="#setenvif">SetEnvIf</a></li>

      <li><a href="#setenvifnocase">SetEnvIfNoCase</a></li>
    </ul>
    <hr />
    <!-- the HR is part of the directive description -->

    <h2><a id="browsermatch" name="browsermatch">BrowserMatch
    ディレクティブ</a></h2>

    <p><a href="directive-dict.html#syntax"
    rel="help"><strong>構文:</strong></a> BrowserMatch <em>regex
    env-variable</em>[=<em>value</em>]
    [<em>env-variable</em>[=<em>value</em>]] ...<br />
     <a href="directive-dict.html#Default"
    rel="help"><strong>デフォルト:</strong></a> None<br />
     <a href="directive-dict.html#context"
    rel="help"><strong>コンテキスト:</strong></a>
    サーバ誓瀋螢侫．ぅ襦▲弌璽船礇襯曠好函▲妊譽肇蝓窿纉鷦碣蓿繙就粡鱚笏蝟絖粡笏譯阮纈鱸粤鱚貊∵繻陟昭齡鳫鈑ぢ上書き:</strong></a> FileInfo<br />
     <a href="directive-dict.html#status"
    rel="help"><strong>ステータス:</strong></a> Base<br />
     <a href="directive-dict.html#module"
    rel="help"><strong>モジュール:</strong></a> mod_setenvif<br />
     <a href="directive-dict.html#Compatibility"
    rel="help"><strong>互換誓瑳闔臂鹿畩鞜竏窺以上
    (このディレクティブは Apache 1.2 では、今では obsolete になっている
    mod_browser モジュールにありました)。.htaccess ファイルでの使用は
    1.3.13 以降でのみサポート。</p>

    <p>BrowserMatch ディレクティブは、HTTP リクエストの
    <samp>User-Agent</samp>
    ヘッダ瀬侫璽襯匹亡陲鼎い憧超竸瑤鮴設定します。最初の引数は
    POSIX.2 拡張誓亀集首瘢霈繚鱚霄瘢霈
形式の誓亀集修隼燭發です。
    残りの引数は、誓瀋蠅鬚垢詈竸召箸修涼佑如綣圓肋蔑椎修任后
これらは以下の形式になります。</p>

    <ol>
      <li><samp><em>varname</em></samp>, or</li>

      <li><samp>!<em>varname</em></samp>, or</li>

      <li><samp><em>varname</em>=<em>value</em></samp></li>
    </ol>

    <p>最初の形式では、値は &quot;1&quot; に誓瀋蠅気譴泙后
番目は変数が既に定義されていた場合、それを削除します。
    3 番目は変数の値を <samp><em>value</em></samp> に誓瀋蠅靴泙后
首瘢霈專纈艱銓鹿黶逅フィールドの文字列が複数のエントリにマッチした場合は、
    その結果がまとめられます。
    エントリは現れた順に処理され、後のエントリが前のものを上書きします。
    </p>
    <p>例:</p>
<pre>
    BrowserMatch ^Mozilla forms jpeg=yes browser=netscape
    BrowserMatch "^Mozilla/[2-3]" tables agif frames javascript
    BrowserMatch MSIE !javascript

</pre>

    <p>誓亀集修諒源鵑首闔臂大文字小文字を区別する</strong
    >ことに注意してくだ世気ぁＢ臺源源魘菠未靴覆ぅ泪奪舛釈
蓿繙就ｂ鳫纈轣蓆閭癈紜昭黶逅沼鳫纈浴萠鐫癈綣瘢霈鹿ぢディレクティブを参照してくだ世気ぁ
鹿霈
腫昭黶逅沼鳫纈浴莠瘢霈ぢディレクティブと
    <samp>BrowserMatchNoCase</samp> ディレクティブは
    <a href="#setenvif"><samp>SetEnvIf</samp></a> ディレクティブ
    <a href="#setenvifnocase"><samp>SetEnvIfNoCase</samp></a>
    ディレクティブの特別なケースです。以下の 2 行は同じ効果になります:
    </p>
<pre>
   BrowserMatchNoCase Robot is_a_robot
   SetEnvIfNoCase User-Agent Robot is_a_robot

</pre>
    <hr />
    <!-- the HR is part of the directive description -->

    <h2><a id="browsermatchnocase"
    name="browsermatchnocase">BrowserMatchNoCase ディレクティブ</a></h2>

    <p><a href="directive-dict.html#syntax"
    rel="help"><strong>構文:</strong></a> BrowserMatchNoCase
    <em>regex env-variable</em>[=<em>value</em>]
    [<em>env-variable</em>[=<em>value</em>]] ...<br />
     <a href="directive-dict.html#Default"
    rel="help"><strong>デフォルト:</strong></a> <em>none</em><br />
     <a href="directive-dict.html#context"
    rel="help"><strong>コンテキスト:</strong></a>
    サーバ誓瀋螢侫．ぅ襦▲弌璽船礇襯曠好函▲妊譽肇蝓窿纉鷦碣蓿繙就粡鱚笏蝟絖粡笏譯阮纈鱸粤鱚貊∵繻陟昭齡鳫鈑ぢ上書き:</strong></a> FileInfo<br />
     <a href="directive-dict.html#status"
    rel="help"><strong>ステータス:</strong></a> Base<br />
     <a href="directive-dict.html#module"
    rel="help"><strong>モジュール:</strong></a> mod_setenvif<br />
     <a href="directive-dict.html#Compatibility"
    rel="help"><strong>互換誓瑳闔臂鹿畩鞜竏窺以上
    (このディレクティブは Apache 1.2 では、今では obsolete になっている
    mod_browser モジュールにありました)。.htaccess ファイルでの使用は
    1.3.13 以降でのみサポート。</p>
    <p><samp>BrowserMatchNoCase</samp>
    ディレクティブは、意味的には <a href="#browsermatch"
    ><samp>BrowserMatch</samp></a>
    ディレクティブとほとんど同じです。
    違う点世蓮臺源源魘菠未靴覆い妊泪奪舛鮃圓覆Δ海箸任后Ｎ瑳腫鱚択阯黼鰺癆竏麗秩黼痺赱闥軆轣竕銓闢択阯黼鰺癆竏麗秩黼蜴赱闥軆鈔阯
鹿頏緇
腫昭黶逅沼鳫纈浴莠瘢霈ぢディレクティブと
    <samp>BrowserMatchNoCase</samp> ディレクティブは <a
     href="#setenvif"><samp>SetEnvIf</samp></a> ディレクティブと <a
     href="#setenvifnocase"><samp>SetEnvIfNoCase</samp></a>
    ディレクティブの特別なケースです。以下の
    2 行は同じ効果になります:</p>
<pre>
   BrowserMatchNoCase Robot is_a_robot
   SetEnvIfNoCase User-Agent Robot is_a_robot

</pre>
    <hr />
    <!-- the HR is part of the directive description -->

    <h2><a id="setenvif" name="setenvif">SetEnvIf
    ディレクティブ</a></h2>

    <p><a href="directive-dict.html#syntax"
    rel="help"><strong>構文:</strong></a> SetEnvIf <em> attribute
    regex env-variable</em>[=<em>value</em>]
    [<em>env-variable</em>[=<em>value</em>]] ...<br />
     <a href="directive-dict.html#Default"
    rel="help"><strong>デフォルト:</strong></a> <em>none</em><br />
     <a href="directive-dict.html#context"
    rel="help"><strong>コンテキスト:</strong></a>
    サーバ誓瀋螢侫．ぅ襦▲弌璽船礇襯曠好函▲妊譽肇蝓窿纉鷦碣蓿繙就粡鱚笏蝟絖粡笏譯阮纈鱸粤鱚貊∵繻陟昭齡鳫鈑ぢ上書き:</strong></a> FileInfo<br />
     <a href="directive-dict.html#status"
    rel="help"><strong>ステータス:</strong></a> Base<br />
     <a href="directive-dict.html#module"
    rel="help"><strong>モジュール:</strong></a> mod_setenvif<br />
     <a href="directive-dict.html#Compatibility"
    rel="help"><strong>互換誓瑳闔臂鹿畩鞜竏窺以上。
    Request_Protocol キーワードと環境変数のマッチは 1.3.7
    以降でのみ使用可能。.htaccess ファイルでの使用は
    1.3.13 以降でのみサポート。</p>

    <p><samp>SetEnvIf</samp>
    ディレクティブは、リクエストの属誓亡陲鼎い憧超竸瑤鯆蟲舛靴泙后
これらの属誓蓮挽墅ぢリクエストのいろいろなヘッダ瀬侫璽襯
ぢ詳しい情報は <a href="http://www.rfc-editor.org/rfc/rfc2616.txt">RFC
    2616</a> を参照してくだ世気か、以下のような、リクエストの他の側面であることができます。</p>

    <ul>
      <li><samp>Remote_Host</samp> -
      リクエストを行なっているクライアントのホスト名 (もしあれば)</li>

      <li><samp>Remote_Addr</samp> -
      リクエストを行なっているクライアントの IP アドレス</li>

      <li><samp>Request_Method</samp> -
      使用されているメソッド名 (<samp>GET</samp>, <samp>POST</samp>
      <em>など</em>)</li>

      <li><samp>Request_Protocol</samp> -
      リクエストが行なわれたプロトコルの名前とバージョン
      (<em>例えば</em>、"HTTP/0.9", "HTTP/1.1" <em>など。</em>)</li>

      <li><samp>Request_URI</samp> -
      URL のスキームとホストの後の部分</li>
    </ul>

    <p>よく使われるリクエストのヘッダ瀬侫璽襯匹砲
首瘢霈被齡鹿黶逅宵黶逅蒋黼鬮燥緕瘢霈首瘢霈吶聽鱚鮗瘢霈
があります。</p>

    <p>属誓纃鍾鱸碯鹿纃が特別なキーワードやリクエストのヘッダ瀬侫璽襯斌召縫泪奪舛靴覆い箸蓮
リクエストに関連付けられたリストにある環境変数の名前として試されます。
    これにより、<code>SetEnvIf</code>
    ディレクティブが前のマッチの結果を使用することができるようになります。
    </p>

    <blockquote>
      <strong>前の <code>SetEnvIf[NoCase]</code>
      で定義された環境変数のみをこの方法で調べることができます。
      「前」というのは (サーバ全体、のような)
      より広いスコープで定義されたか、
      現ディレクティブのスコープの中の前の方で定義されたという意味です。
      </strong>
    </blockquote>
    <p>例:</p>
<pre>
   SetEnvIf Request_URI "\.gif$" object_is_image=gif
   SetEnvIf Request_URI "\.jpg$" object_is_image=jpg
   SetEnvIf Request_URI "\.xbm$" object_is_image=xbm
        :
   SetEnvIf Referer www\.mydomain\.com intra_site_referral
        :
   SetEnvIf object_is_image xbm XBIT_PROCESSING=1

</pre>

    <p>誓萋了阿弔魯螢┘好箸菫侫．ぅ襪里箸法超竸
首瘢霈閧裙笏煢黯蜊瘍綣瘢霈ぢを誓瀋蠅靴泙后
番目は参照元のページが <samp>www.mydomain.com</samp>
    ウェブサイトのどこかにある場合に <samp>intra_site_referral</samp>
    を誓瀋蠅靴泙后鹿霈
取
次蒹蜩癇閹蒹蜥繝纉竰蜷闔

取仮釈篏‰續緕冐閭癈紜瘢綵‰續緕冐閭癈紜肖續梼耄鐫癈ディレクティブ</a></h2>

    <p><a href="directive-dict.html#syntax"
    rel="help"><strong>構文:</strong></a> SetEnvIfNoCase
    <em>attribute regex env-variable</em>[=<em>value</em>]
    [<em>env-variable</em>[=<em>value</em>]] ...<br />
     <a href="directive-dict.html#default"
    rel="help"><strong>デフォルト:</strong></a> <em>none</em><br />
     <a href="directive-dict.html#context"
    rel="help"><strong>コンテキスト:</strong></a>
    サーバ誓瀋螢侫．ぅ襦▲弌璽船礇襯曠好函▲妊譽肇蝓窿纉鷦碣蓿繙就粡鱚笏蝟絖粡笏譯阮纈鱸粤鱚貊∵繻陟昭齡鳫鈑ぢ上書き:</strong></a> FileInfo<br />
     <a href="directive-dict.html#status"
    rel="help"><strong>ステータス:</strong></a> Base<br />
     <a href="directive-dict.html#module"
    rel="help"><strong>モジュール:</strong></a> mod_setenvif<br />
     <a href="directive-dict.html#Compatibility"
    rel="help"><strong>互換誓瑳闔臂鹿畩鞜竏窺以上。
    Request_Protocol キーワードと環境変数のマッチは 1.3.7
    以降でのみ使用可能。.htaccess ファイルでの使用は
    1.3.13 以降でのみサポート。</p>

    <p><samp>SetEnvIfNoCase</samp> は、意味的には <a
    href="#setenvif"><samp>SetEnvIf</samp></a> とほとんど同じです。
    違いは誓亀集修離泪奪舛臺源源魘菠未靴覆い嚢圓覆錣譴襪海箸任后
例えば:</p>

<pre>
   SetEnvIfNoCase Host Apache\.Org site=apache
</pre>

    <p>これは、HTTP リクエストの <samp>Host:</samp>
    ヘッダ瀬侫璽襯匹△蝓△修涼佑
首瘢霈草痺蒹鱧鹿黶逅宵黶逅鍾鞜竏絎闥膽瘢霈
やその他の大文字小文字の組み合わせであったときに、環境変数
    <samp>site</samp> を &quot;<samp>apache</samp>&quot; に誓瀋蠅靴泙后鹿霈
取

取瘡蜃扈杜堙劬樵鞜竏挽墅纈帙鴦蜿窺骸馨
釈鱚羹〓昭蜊齟秉〓蜊瘍纉鈔纔蜀瘡鈔纔鹿畩
釈鱚羹〓⊂守辯鱆就轣艱鶩蓖辣蜀瘡闕紜昭
鹿硼糯鹿蔗迪

窺跫隻鉗瘡纐蜩蜿
絶碓
甕次鈑跚鼈纐蜩蜿邵箟甕守辯鱆就轣艱鶩齦皰芍罌踉就杼仭暖掴稚妖淋壮貧塁箍甓箋甬甓涯
殊蘊首瘢霈吶迴炙黼鮗瘢霈
認証されたユーザ名 (もしあれば)</li>

d312 1
a312 1
    <p><samp>SetEnvIfNoCase</samp> は、意味的には <a 
@


1.1.1.1
log
@Import base OpenBSD repository of MirOS ocvs:HEAD
@
text
@@
